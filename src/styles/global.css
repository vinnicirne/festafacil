* { box-sizing: border-box }
html, body, #root { height: 100% }
body { margin:0; font-family: 'Poppins', system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; color: var(--color-text); background: var(--color-bg); }
a { color: inherit; text-decoration: none }
img { max-width: 100%; display: block }
main { min-height: calc(100vh - 132px) }

.grid { display: grid; gap: 1rem }
.grid-2 { grid-template-columns: 1fr 1fr }
.grid-3 { grid-template-columns: 1fr 1fr 1fr }

@media (min-width: 1024px){
  .grid-lg-2 { grid-template-columns: 320px 1fr }
}

/* Navbar responsivo */
.navbar-inner { display:flex; align-items:center; justify-content:space-between; padding:.8rem; gap:.6rem }
.navbar-actions input { width:260px }
.search-wrap { position:relative; flex:1; max-width:520px }
.search-wrap input { width:100%; border:1px solid #e6edf1; border-radius:12px; padding:.55rem .8rem; padding-left:2.2rem; padding-right:4.5rem }
.search-wrap input:focus { outline:none; border-color:#b7d7ef; box-shadow:0 0 0 3px rgba(70,146,221,.15) }
.search-icon { position:absolute; left:.6rem; top:50%; transform:translateY(-50%); opacity:.7; font-size:1rem }
.search-clear { position:absolute; right:2.2rem; top:50%; transform:translateY(-50%); border:none; background:transparent; font-size:1.1rem; line-height:1; width:28px; height:28px; border-radius:8px; color:#666; cursor:pointer }
.search-clear:hover { background:#f2f6f8 }
.search-locate { position:absolute; right:.6rem; top:50%; transform:translateY(-50%); border:0; background:transparent; width:30px; height:30px; border-radius:8px; cursor:pointer }

/* Badge quando o termo é uma categoria */
.search-wrap.has-badge input { padding-right:6.5rem }
.search-badge { position:absolute; right:2.2rem; top:50%; transform:translateY(-50%);
  font-size:.72rem; padding:.12rem .4rem; border-radius:999px; pointer-events:none; border:1px solid transparent }
.search-badge--category{ background:#eef7ff; color:#2a6fbe; border-color:#cfe7ff }
.search-badge--provider{ background:#eefcf2; color:#217a3a; border-color:#c9f2d8 }

@media (max-width: 640px){
  .navbar-inner { flex-wrap: wrap }
  .navbar-logo strong { font-size:1rem }
  .navbar-actions { width:100%; gap:.5rem; flex-direction: column; align-items: stretch }
  .navbar-actions input { width:100%; flex:1; min-width:0 }
  .navbar-actions .btn { width:100%; padding:.55rem .8rem; font-size:.95rem }
  /* Centraliza cabeçalho do fornecedor e título/chip em telas pequenas */
  .provider-header{ justify-content:center !important; text-align:center }
  .provider-title{ display:flex !important; justify-content:center }
  /* Botão de ação do fornecedor ocupa toda a largura abaixo do título */
  .provider-header .btn{ width:100%; flex: 1 0 100%; margin-top: .6rem; }
  /* Mais respiro entre título/chips em mobile */
  .provider-header + div{ margin-top: .8rem }
}

/* Espaçamento padrão entre header e bloco de chips/meta */
.provider-header + div{ margin-top: clamp(.6rem, 1vw, .8rem) }

/* Ajustes para tablets: limita largura do botão e centraliza */
@media (min-width: 641px) and (max-width: 1024px){
  .provider-header{ flex-wrap: wrap }
  .provider-title{ width:100%; justify-content:center; text-align:center }
  .provider-header .btn{ width:100%; max-width: clamp(280px, 50vw, 560px); margin: .6rem auto 0; flex: 0 0 auto }
}


/* Micro-interações */
.fade-in { animation: fade .24s ease-in }
@keyframes fade { from { opacity: 0; transform: translateY(2px) } to { opacity: 1; transform: none } }

/* Destaque de termo nos resultados */
.hl { background: #fff3a3; padding: 0 .08em; border-radius: 3px }

/* Stats tiles (Plan card) */
.stat-grid{ display:grid; gap:.8rem; grid-template-columns:repeat(3, minmax(200px, 1fr)); }
@media (max-width: 900px){ .stat-grid{ grid-template-columns: repeat(2, minmax(180px, 1fr)); } }
@media (max-width: 560px){ .stat-grid{ grid-template-columns: 1fr; } }
.stat{ background:#fff; border:1px solid rgba(0,0,0,.06); border-radius:12px; padding:.9rem; display:grid; gap:.25rem; box-shadow: var(--shadow-sm); }
.stat__label{ color:var(--color-muted); font-size:.8rem; }
.stat__value{ font-size:1.35rem; font-weight:700; display:inline-flex; align-items:center; gap:.4rem; }
.stat__caption{ color:var(--color-muted); font-size:.8rem; }

/* Accent for FestCoins tile */
.stat--coins{ background: var(--color-promo-bg); border-color: var(--color-promo-border); }
.stat--coins .stat__value svg{ color: var(--color-primary); }